<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Header Design</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Enhanced Custom Variables */
        :root {
            --header-height: 80px;
            --header-shrink: 60px;
            --primary-blue: #2563eb;
            --primary-blue-hover: #1d4ed8;
            --glass-bg: rgba(255, 255, 255, 0.85);
            --glass-border: rgba(255, 255, 255, 0.2);
        }

        /* Advanced Header Styles */
        .header-glass {
            background: var(--glass-bg);
            backdrop-filter: blur(20px) saturate(180%);
            border-bottom: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .header-scrolled {
            --glass-bg: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(24px) saturate(200%);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12);
            transform: translateY(0);
        }

        .header-hidden {
            transform: translateY(-100%);
        }

        /* Logo Breathing Animation */
        .logo-container {
            position: relative;
        }

        .logo-glow {
            position: absolute;
            inset: -4px;
            background: linear-gradient(45deg, 
                rgba(37, 99, 235, 0.1), 
                rgba(99, 102, 241, 0.05), 
                rgba(37, 99, 235, 0.1)
            );
            border-radius: 12px;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .logo-container:hover .logo-glow {
            opacity: 1;
            animation: logoGlow 2s ease-in-out infinite;
        }

        @keyframes logoGlow {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Magnetic Navigation Effects */
        .nav-item {
            position: relative;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-item::before {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-blue), #3b82f6);
            border-radius: 2px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateX(-50%);
        }

        .nav-item:hover::before,
        .nav-item.nav-active::before {
            width: 100%;
        }

        .nav-item.nav-active::before {
            background: linear-gradient(90deg, var(--primary-blue), var(--primary-blue-hover));
        }

        .nav-item:hover {
            transform: translateY(-2px);
            color: var(--primary-blue);
        }

        /* Enhanced Contact Button */
        .contact-btn {
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-blue-hover));
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .contact-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.2), 
                transparent
            );
            transition: left 0.5s;
        }

        .contact-btn:hover::before {
            left: 100%;
        }

        .contact-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.6);
        }

        /* Ripple Effect */
        .ripple {
            position: relative;
            overflow: hidden;
        }

        .ripple::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .ripple:active::after {
            width: 300px;
            height: 300px;
        }

        /* Enhanced Mobile Menu */
        .mobile-menu-overlay {
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(8px);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .mobile-menu-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(24px) saturate(200%);
            transform: translateX(100%);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .mobile-menu-open .mobile-menu-overlay {
            opacity: 1;
            visibility: visible;
        }

        .mobile-menu-open .mobile-menu-panel {
            transform: translateX(0);
        }

        .mobile-nav-link {
            position: relative;
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .mobile-nav-link::before {
            content: '';
            position: absolute;
            left: -100%;
            top: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(37, 99, 235, 0.05), 
                transparent
            );
            transition: left 0.5s;
        }

        .mobile-nav-link:hover::before {
            left: 100%;
        }

        /* Staggered Animation for Mobile Menu Items */
        .mobile-nav-link {
            animation: slideInRight 0.3s ease-out;
            animation-fill-mode: both;
        }

        .mobile-nav-link:nth-child(1) { animation-delay: 0.1s; }
        .mobile-nav-link:nth-child(2) { animation-delay: 0.15s; }
        .mobile-nav-link:nth-child(3) { animation-delay: 0.2s; }
        .mobile-nav-link:nth-child(4) { animation-delay: 0.25s; }
        .mobile-nav-link:nth-child(5) { animation-delay: 0.3s; }
        .mobile-nav-link:nth-child(6) { animation-delay: 0.35s; }
        .mobile-nav-link:nth-child(7) { animation-delay: 0.4s; }
        .mobile-nav-link:nth-child(8) { animation-delay: 0.45s; }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Enhanced Hamburger Animation */
        .hamburger-line {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform-origin: center;
        }

        .mobile-menu-open .hamburger-line:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .mobile-menu-open .hamburger-line:nth-child(2) {
            opacity: 0;
            transform: scale(0);
        }

        .mobile-menu-open .hamburger-line:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        /* Mobile Menu Button Enhancement */
        .mobile-menu-btn {
            position: relative;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .mobile-menu-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }

        /* Scroll Behavior Enhancements */
        .header-container {
            height: var(--header-height);
            transition: height 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .header-container.scrolled {
            height: var(--header-shrink);
        }

        /* Logo scaling on scroll */
        .logo-brand {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .header-container.scrolled .logo-brand {
            transform: scale(0.9);
        }

        /* Prevent body scroll when mobile menu is open */
        .mobile-menu-open {
            overflow: hidden;
            touch-action: none;
        }

        /* Enhanced Focus States for Accessibility */
        .nav-item:focus,
        .contact-btn:focus,
        .mobile-menu-btn:focus {
            outline: 2px solid var(--primary-blue);
            outline-offset: 2px;
        }

        /* Smooth page transitions */
        .page-transition {
            opacity: 1;
            transition: opacity 0.3s ease;
        }

        .page-transition.loading {
            opacity: 0.7;
        }

        /* Modern scrollbar for mobile menu */
        .mobile-menu-panel::-webkit-scrollbar {
            width: 4px;
        }

        .mobile-menu-panel::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
        }

        .mobile-menu-panel::-webkit-scrollbar-thumb {
            background: rgba(37, 99, 235, 0.5);
            border-radius: 2px;
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>
    <!-- Enhanced Header -->
    <header id="main-header" class="fixed top-0 left-0 right-0 z-50 header-glass">
        <div class="header-container">
            <nav class="container mx-auto px-6 py-4 flex justify-between items-center h-full">
                <!-- Enhanced Logo Section -->
                <a href="index.html" class="logo-container flex items-center space-x-3 group">
                    <div class="logo-glow"></div>
                    <img src="assets/icai-logo.png" alt="ICAI CA Logo" class="h-9 transition-transform duration-300 group-hover:scale-110">
                    <span class="logo-brand text-2xl font-bold text-gray-900 transition-all duration-300 group-hover:text-blue-600">
                        Sagar H R & Co.
                    </span>
                </a>

                <!-- Enhanced Desktop Navigation -->
                <div id="nav-links" class="hidden md:flex items-center space-x-6 lg:space-x-8">
                    <a href="index.html" class="nav-item text-gray-600 hover:text-blue-600 transition-all duration-300 font-medium px-2 py-1">Home</a>
                    <a href="about.html" class="nav-item text-gray-600 hover:text-blue-600 transition-all duration-300 font-medium px-2 py-1">About</a>
                    <a href="services.html" class="nav-item text-gray-600 hover:text-blue-600 transition-all duration-300 font-medium px-2 py-1">Services</a>
                    <a href="insights.html" class="nav-item text-gray-600 hover:text-blue-600 transition-all duration-300 font-medium px-2 py-1">Insights</a>
                    <a href="faq.html" class="nav-item text-gray-600 hover:text-blue-600 transition-all duration-300 font-medium px-2 py-1">FAQ</a>
                    <a href="resources.html" class="nav-item text-gray-600 hover:text-blue-600 transition-all duration-300 font-medium px-2 py-1">Resources</a>
                    <a href="careers.html" class="nav-item text-gray-600 hover:text-blue-600 transition-all duration-300 font-medium px-2 py-1">Careers</a>
                    <a href="contact.html" class="contact-btn ripple text-white px-6 py-3 rounded-full font-semibold transition-all duration-300 relative z-10">
                        Contact Us
                    </a>
                </div>

                <!-- Enhanced Mobile Menu Button -->
                <button id="mobile-menu-btn" class="mobile-menu-btn md:hidden flex flex-col justify-center items-center p-3 space-y-1 rounded-xl transition-all duration-300" aria-label="Toggle menu">
                    <span class="hamburger-line w-6 h-0.5 bg-gray-700"></span>
                    <span class="hamburger-line w-6 h-0.5 bg-gray-700"></span>
                    <span class="hamburger-line w-6 h-0.5 bg-gray-700"></span>
                </button>
            </nav>
        </div>
    </header>

    <!-- Enhanced Mobile Menu -->
    <div id="mobile-menu" class="mobile-menu-overlay fixed inset-0 z-[60] md:hidden">
        <div class="mobile-menu-panel fixed top-0 right-0 h-full w-80 max-w-[90vw] p-6 overflow-y-auto">
            <!-- Mobile Menu Header -->
            <div class="flex justify-between items-center mb-8">
                <div class="flex items-center space-x-3">
                    <img src="assets/icai-logo.png" alt="ICAI CA Logo" class="h-8">
                    <span class="text-lg font-bold text-gray-900">Sagar H R & Co.</span>
                </div>
                <button id="mobile-menu-close" class="p-2 rounded-full hover:bg-gray-100 transition-colors duration-200">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>

            <!-- Mobile Navigation Links -->
            <nav class="space-y-1">
                <a href="index.html" class="mobile-nav-link block px-4 py-3 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all duration-300 font-medium">
                    <div class="flex items-center space-x-3">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                        </svg>
                        <span>Home</span>
                    </div>
                </a>
                <a href="about.html" class="mobile-nav-link block px-4 py-3 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all duration-300 font-medium">
                    <div class="flex items-center space-x-3">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <span>About</span>
                    </div>
                </a>
                <a href="services.html" class="mobile-nav-link block px-4 py-3 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all duration-300 font-medium">
                    <div class="flex items-center space-x-3">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                        </svg>
                        <span>Services</span>
                    </div>
                </a>
                <a href="insights.html" class="mobile-nav-link block px-4 py-3 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all duration-300 font-medium">
                    <div class="flex items-center space-x-3">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                        </svg>
                        <span>Insights</span>
                    </div>
                </a>
                <a href="faq.html" class="mobile-nav-link block px-4 py-3 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all duration-300 font-medium">
                    <div class="flex items-center space-x-3">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <span>FAQ</span>
                    </div>
                </a>
                <a href="resources.html" class="mobile-nav-link block px-4 py-3 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all duration-300 font-medium">
                    <div class="flex items-center space-x-3">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                        </svg>
                        <span>Resources</span>
                    </div>
                </a>
                <a href="careers.html" class="mobile-nav-link block px-4 py-3 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all duration-300 font-medium">
                    <div class="flex items-center space-x-3">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2V6"></path>
                        </svg>
                        <span>Careers</span>
                    </div>
                </a>
                <a href="contact.html" class="mobile-nav-link block px-4 py-3 mt-4 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-all duration-300">
                    <div class="flex items-center space-x-3">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                        <span>Contact Us</span>
                    </div>
                </a>
            </nav>

            <!-- Mobile Menu Footer -->
            <div class="mt-8 pt-6 border-t border-gray-200">
                <div class="text-sm text-gray-500">
                    <p class="font-medium">Need immediate assistance?</p>
                    <a href="tel:+919482359455" class="text-blue-600 hover:text-blue-700 transition-colors">+91 94823 59455</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Demo content to show scroll behavior -->
    <div class="pt-32 p-8">
        <div class="container mx-auto">
            <h1 class="text-4xl font-bold mb-8">Scroll to see the header animations!</h1>
            <div class="space-y-8">
                <p class="text-lg">This is demo content to demonstrate the scroll behavior.</p>
                <div class="h-96 bg-gray-100 rounded-lg flex items-center justify-center">
                    <p class="text-gray-600">Demo content area 1</p>
                </div>
                <div class="h-96 bg-gray-200 rounded-lg flex items-center justify-center">
                    <p class="text-gray-600">Demo content area 2</p>
                </div>
                <div class="h-96 bg-gray-100 rounded-lg flex items-center justify-center">
                    <p class="text-gray-600">Demo content area 3</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Enhanced Header JavaScript with Advanced Animations
        document.addEventListener('DOMContentLoaded', () => {
            const header = document.getElementById('main-header');
            const headerContainer = document.querySelector('.header-container');
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileMenuClose = document.getElementById('mobile-menu-close');
            const body = document.body;
            
            let lastScrollY = window.scrollY;
            let isScrolling = false;

            // Smart Scroll Behavior with Performance Optimization
            const handleScroll = () => {
                if (isScrolling) return;
                
                isScrolling = true;
                requestAnimationFrame(() => {
                    const currentScrollY = window.scrollY;
                    const scrollDifference = currentScrollY - lastScrollY;
                    
                    // Add scrolled class for styling changes
                    if (currentScrollY > 50) {
                        header.classList.add('header-scrolled');
                        headerContainer.classList.add('scrolled');
                    } else {
                        header.classList.remove('header-scrolled');
                        headerContainer.classList.remove('scrolled');
                    }
                    
                    // Hide/show header based on scroll direction
                    if (scrollDifference > 5 && currentScrollY > 100) {
                        header.classList.add('header-hidden');
                    } else if (scrollDifference < -5 || currentScrollY < 100) {
                        header.classList.remove('header-hidden');
                    }
                    
                    lastScrollY = currentScrollY;
                    isScrolling = false;
                });
            };

            // Throttled scroll event
            let scrollTimeout;
            window.addEventListener('scroll', () => {
                if (scrollTimeout) {
                    clearTimeout(scrollTimeout);
                }
                scrollTimeout = setTimeout(handleScroll, 10);
            });

            // Mobile Menu Functionality with Enhanced Animations
            const toggleMobileMenu = (open) => {
                if (open) {
                    body.classList.add('mobile-menu-open');
                    mobileMenu.style.display = 'block';
                    // Trigger reflow for animation
                    mobileMenu.offsetHeight;
                    mobileMenu.classList.add('opacity-100');
                } else {
                    body.classList.remove('mobile-menu-open');
                    mobileMenu.classList.remove('opacity-100');
                    setTimeout(() => {
                        if (!body.classList.contains('mobile-menu-open')) {
                            mobileMenu.style.display = 'none';
                        }
                    }, 300);
                }
            };

            // Mobile menu button click
            mobileMenuBtn?.addEventListener('click', (e) => {
                e.stopPropagation();
                toggleMobileMenu(true);
            });

            // Mobile menu close button
            mobileMenuClose?.addEventListener('click', () => {
                toggleMobileMenu(false);
            });

            // Close mobile menu when clicking overlay
            mobileMenu?.addEventListener('click', (e) => {
                if (e.target === mobileMenu) {
                    toggleMobileMenu(false);
                }
            });

            // Close mobile menu with Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && body.classList.contains('mobile-menu-open')) {
                    toggleMobileMenu(false);
                }
            });

            // Active Navigation Highlighting
            const currentPage = window.location.pathname.split('/').pop() || 'index.html';
            const navLinks = document.querySelectorAll('.nav-item');
            const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');

            // Desktop navigation
            navLinks.forEach(link => {
                if (link.getAttribute('href') === currentPage) {
                    link.classList.add('nav-active');
                }
            });

            // Mobile navigation
            mobileNavLinks.forEach(link => {
                if (link.getAttribute('href') === currentPage) {
                    link.classList.add('bg-blue-50', 'text-blue-600', 'font-semibold');
                }
            });

            // Enhanced Ripple Effect for Buttons
            const rippleButtons = document.querySelectorAll('.ripple');
            
            rippleButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    const rect = this.getBoundingClientRect();
                    const ripple = document.createElement('span');
                    const size = Math.max(rect.width, rect.height);
                    const x = e.clientX - rect.left - size / 2;
                    const y = e.clientY - rect.top - size / 2;
                    
                    ripple.style.width = ripple.style.height = size + 'px';
                    ripple.style.left = x + 'px';
                    ripple.style.top = y + 'px';
                    ripple.classList.add('ripple-effect');
                    
                    this.appendChild(ripple);
                    
                    setTimeout(() => {
                        ripple.remove();
                    }, 600);
                });
            });

            // Magnetic Effect for Navigation Items
            const magneticElements = document.querySelectorAll('.nav-item, .contact-btn');
            
            magneticElements.forEach(element => {
                element.addEventListener('mousemove', (e) => {
                    const rect = element.getBoundingClientRect();
                    const x = e.clientX - rect.left - rect.width / 2;
                    const y = e.clientY - rect.top - rect.height / 2;
                    
                    const distance = Math.sqrt(x * x + y * y);
                    const maxDistance = 50;
                    
                    if (distance < maxDistance) {
                        const strength = (maxDistance - distance) / maxDistance;
                        const moveX = x * strength * 0.3;
                        const moveY = y * strength * 0.3;
                        
                        element.style.transform = `translate(${moveX}px, ${moveY}px)`;
                    }
                });
                
                element.addEventListener('mouseleave', () => {
                    element.style.transform = '';
                });
            });

            // Intersection Observer for animations when scrolling into view
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-in');
                    }
                });
            }, observerOptions);

            // Smooth page transitions
            const handlePageTransition = (href) => {
                document.body.classList.add('page-transition', 'loading');
                setTimeout(() => {
                    window.location.href = href;
                }, 150);
            };

            // Add transition effects to navigation links
            document.querySelectorAll('a[href$=".html"]').forEach(link => {
                link.addEventListener('click', (e) => {
                    if (link.hostname === window.location.hostname) {
                        e.preventDefault();
                        handlePageTransition(link.href);
                    }
                });
            });

            // Performance optimization: Reduce animations on low-end devices
            const isLowEndDevice = () => {
                return navigator.hardwareConcurrency <= 2 || 
                       navigator.deviceMemory <= 2 ||
                       /Android.*(?:Lite|Go)/.test(navigator.userAgent);
            };

            if (isLowEndDevice()) {
                document.documentElement.style.setProperty('--animation-duration', '0.1s');
            }

            // Preload critical resources
            const preloadImage = (src) => {
                const link = document.createElement('link');
                link.rel = 'preload';
                link.as = 'image';
                link.href = src;
                document.head.appendChild(link);
            };

            // Initialize smooth scrolling for better UX
            document.documentElement.style.scrollBehavior = 'smooth';

            // Enhanced keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Tab') {
                    document.body.classList.add('keyboard-navigation');
                }
            });

            document.addEventListener('mousedown', () => {
                document.body.classList.remove('keyboard-navigation');
            });

            // Touch gesture support for mobile menu
            let touchStartX = 0;
            let touchStartY = 0;
            let isSwiping = false;

            document.addEventListener('touchstart', (e) => {
                touchStartX = e.touches[0].clientX;
                touchStartY = e.touches[0].clientY;
                isSwiping = false;
            });

            document.addEventListener('touchmove', (e) => {
                if (!touchStartX || !touchStartY) return;
                
                const touchEndX = e.touches[0].clientX;
                const touchEndY = e.touches[0].clientY;
                const diffX = touchStartX - touchEndX;
                const diffY = touchStartY - touchEndY;
                
                if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > 50) {
                    isSwiping = true;
                    
                    // Swipe left to open menu (from right edge)
                    if (diffX < -50 && touchStartX > window.innerWidth - 50 && !body.classList.contains('mobile-menu-open')) {
                        toggleMobileMenu(true);
                    }
                    
                    // Swipe right to close menu
                    if (diffX > 50 && body.classList.contains('mobile-menu-open')) {
                        toggleMobileMenu(false);
                    }
                }
            });

            // Cleanup function for better performance
            const cleanup = () => {
                window.removeEventListener('scroll', handleScroll);
                observer.disconnect();
            };

            // Page visibility API to pause animations when tab is not active
            document.addEventListener('visibilitychange', () => {
                if (document.hidden) {
                    document.documentElement.style.setProperty('--animation-play-state', 'paused');
                } else {
                    document.documentElement.style.setProperty('--animation-play-state', 'running');
                }
            });

            // Initialize everything
            handleScroll(); // Initial call to set proper header state
        });
    </script>
</body>
</html>